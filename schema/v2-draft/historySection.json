{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "DRAFT - FA Metadata History Section v2.0 (NOT FOR PRODUCTION USE)",
  "version": "2.0-draft",
  "description": "⚠️ WARNING: This is a DRAFT schema with breaking changes. Use v1.1 for production. This v2-draft uses camelCase property names which are NOT backward compatible with v1.x. Historical information about previous measurements or analysis steps in the workflow.",
  "type": "object",
  "properties": {
    "history": {
      "description": "Contains links and references to previous analysis steps.",
      "type": [
        "object",
        "null"
      ],
      "properties": {
        "previousMeasurements": {
          "description": "Array of references to previous measurements.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "headerFilePath": {
                "description": "Path to previous metadata JSON file.",
                "type": "string"
              },
              "imageFilePath": {
                "description": "Path to previous image file.",
                "type": "string"
              },
              "timeStamp": {
                "description": "Timestamp of previous measurement.",
                "type": "string",
                "format": "date-time"
              },
              "method": {
                "description": "Analysis method of previous measurement.",
                "type": "string"
              }
            }
          }
        },
        "workflowStep": {
          "description": "Current step number in the analysis workflow.",
          "type": "integer"
        },
        "workflowDescription": {
          "description": "Description of the current workflow step.",
          "type": "string"
        }
      }
    }
  }
}